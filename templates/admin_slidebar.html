<!-- Admin Left Sidebar Menu Layout -->
<div class="sidebar">
    <div class="sidebar-header">
        <h2><i class="fas fa-shield-alt"></i></h2>
        <p>Admin Panel</p>
    </div>
    
    <div class="sidebar-menu">
        <div class="menu-section">
            <h4>Main Menu</h4>
            <div class="menu-item active" data-page="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard Statistics</span>
            </div>
            <div class="menu-item" data-page="upload-reports">
                <i class="fas fa-upload"></i>
                <span>Upload Reports</span>
            </div>
            <div class="menu-item" data-page="upload-groups">
                <i class="fas fa-users-cog"></i>
                <span>Upload Groups</span>
            </div>
            <div class="menu-item" data-page="message-management">
                <i class="fas fa-comments"></i>
                <span>Message Management</span>
            </div>
            <div class="menu-item" data-page="manage-topics">
                <i class="fas fa-tags"></i>
                <span>Manage Topics</span>
            </div>
            <div class="menu-item" data-page="assembly-list">
                <i class="fas fa-list-ol"></i>
                <span>Assembly List</span>
            </div>
        </div>
    </div>
    
    <div class="sidebar-footer">
        <form method="POST" action="{{ url_for('auth.logout') }}" style="margin: 0;">
            <button type="submit" class="btn btn-secondary" style="width: 100%;">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </form>
    </div>
</div>

<!-- JavaScript for Admin Menu Functionality -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Get all menu items
    const menuItems = document.querySelectorAll('.menu-item');
    
    // Add click event to each menu item
    menuItems.forEach(item => {
        item.addEventListener('click', function() {
            // Remove active class from all items
            menuItems.forEach(i => i.classList.remove('active'));
            
            // Add active class to clicked item
            this.classList.add('active');
            
            // Get the page identifier
            const page = this.getAttribute('data-page');
            
            // Handle navigation (you can customize this)
            handleAdminMenuNavigation(page);
        });
    });
    
    // Function to handle admin menu navigation
    function handleAdminMenuNavigation(page) {
        console.log('Admin navigating to:', page);
        
        // Handle navigation for each menu item
        switch(page) {
                           case 'dashboard':
                   window.location.href = "{{ url_for('admin.admin_dashboard') }}";
                   break;
               case 'upload-reports':
                   window.location.href = "{{ url_for('admin.upload_reports') }}";
                   break;
               case 'upload-groups':
                   window.location.href = "{{ url_for('admin.upload_groups') }}";
                   break;
               case 'message-management':
                   window.location.href = "{{ url_for('admin.message_management') }}";
                   break;
               case 'manage-topics':
                   window.location.href = "{{ url_for('admin.admin_manage_topics') }}";
                   break;
               case 'assembly-list':
                   window.location.href = "{{ url_for('admin.assembly_list') }}";
                   break;
            default:
                console.log('Unknown admin page:', page);
        }
    }
    
    // Set initial active state based on current page
    function setInitialActiveState() {
        // You can set this based on the current route or page
        const currentPage = 'dashboard'; // Change this based on your logic
        const activeItem = document.querySelector(`[data-page="${currentPage}"]`);
        if (activeItem) {
            activeItem.classList.add('active');
        }
    }
    
    // Initialize active state
    setInitialActiveState();
});
</script>
